%%{init: {'theme':'base', 'themeVariables': {'primaryColor':'#fff','primaryBorderColor':'#333'}}}%%
graph TB
    subgraph Frontend["Frontend - React Dashboard"]
        A[SuperAdminDashboard.js]
        A1[Overview Tab]
        A2[Users Tab]
        A3[Submissions Tab]
        A4[Audit Logs Tab]
        A5[Analytics Tab]
        A6[API Keys Tab]
        A7[Performance Tab]
        A8[Activity Tab]
        A9[System Tab]
        
        A --> A1
        A --> A2
        A --> A3
        A --> A4
        A --> A5
        A --> A6
        A --> A7
        A --> A8
        A --> A9
    end
    
    subgraph API["API Layer - FastAPI"]
        B[super_admin_routes.py]
        B1[Dashboard Stats]
        B2[User Management]
        B3[Submission Management]
        B4[Audit Logs]
        B5[Analytics]
        B6[API Keys]
        B7[System Operations]
        
        B --> B1
        B --> B2
        B --> B3
        B --> B4
        B --> B5
        B --> B6
        B --> B7
    end
    
    subgraph Auth["Authentication & Authorization"]
        C[require_super_admin]
        C1[JWT Validation]
        C2[Role Check]
        C3[Audit Logger]
        
        C --> C1
        C --> C2
        C --> C3
    end
    
    subgraph Database["Database - MongoDB"]
        D[(MongoDB)]
        D1[users]
        D2[submissions]
        D3[agent_tasks]
        D4[audit_logs]
        D5[api_keys]
        
        D --> D1
        D --> D2
        D --> D3
        D --> D4
        D --> D5
    end
    
    subgraph Services["Services"]
        E[mongodb_service]
        E1[audit_logger]
        E2[security_monitor]
        E3[cache_service]
        E4[user_service]
        
        E --> E1
        E --> E2
        E --> E3
        E --> E4
    end
    
    A1 --> B1
    A2 --> B2
    A3 --> B3
    A4 --> B4
    A5 --> B5
    A6 --> B6
    A7 --> B5
    A8 --> B5
    A9 --> B7
    
    B1 --> C
    B2 --> C
    B3 --> C
    B4 --> C
    B5 --> C
    B6 --> C
    B7 --> C
    
    C --> E
    
    B1 --> E
    B2 --> E4
    B3 --> E
    B4 --> E1
    B5 --> E
    B6 --> E
    B7 --> E3
    
    E --> D
    E1 --> D4
    E2 --> D4
    E3 --> D
    E4 --> D1
    
    style A fill:#61dafb,stroke:#333,stroke-width:2px
    style B fill:#009688,stroke:#333,stroke-width:2px
    style C fill:#ff9800,stroke:#333,stroke-width:2px
    style D fill:#4caf50,stroke:#333,stroke-width:2px
    style E fill:#9c27b0,stroke:#333,stroke-width:2px
